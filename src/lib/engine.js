// Generated by CoffeeScript 1.7.1
define(function(require, exports, module) {
  'use strict';
  var Engine, Proxy, Storage, Support;
  Support = require('lib/support');
  Storage = require('lib/storage');
  Proxy = require('lib/proxy');
  Engine = (function() {
    function Engine(options) {
      this.session = options.session;
      if (this.session == null) {
        this.session = true;
      }
      if (options.proxy != null) {
        this.proxy = new Proxy(options.proxy, this.session);
      } else {
        this.storage = new Storage(this.session);
      }
      return;
    }

    Engine.prototype.key = function(index) {
      return (this.proxy != null ? this.proxy : this.storage).key(index);
    };

    Engine.prototype.size = function() {
      return (this.proxy != null ? this.proxy : this.storage).size();
    };

    Engine.prototype.setItem = function(key, val) {
      return (this.proxy != null ? this.proxy : this.storage).setItem(key, val);
    };

    Engine.prototype.getItem = function(key) {
      return (this.proxy != null ? this.proxy : this.storage).getItem(key);
    };

    Engine.prototype.removeItem = function(key) {
      return (this.proxy != null ? this.proxy : this.storage).removeItem(key);
    };

    Engine.prototype.usage = function() {
      return (this.proxy != null ? this.proxy : this.storage).usage();
    };

    return Engine;

  })();
  return module.exports = Engine;
});
